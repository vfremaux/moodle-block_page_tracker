define("block_page_tracker/pagetracker",["jquery","core/log","core/config"],(function($,log,cfg){return{init:function(){$(".pagetracker-toggle-handle").bind("click",this.toggle),log.debug("AMD Page Tracker Initialized")},toggle:function(e){e.stopPropagation(),e.preventDefault();var that=$(this),url=cfg.wwwroot+"/blocks/page_tracker/ajax/service.php",itemid=that.attr("id").replace("toggle-page-",""),blockid=that.attr("data-blockid");url+="?id="+that.attr("data-courseid"),url+="&blockid="+blockid,url+="&itemid="+itemid,log.debug("AMD Page Tracker : Got for "+that.attr("id"));var subnodes=$('ul[data-parent="'+that.attr("id")+'"]');subnodes.hasClass("collapsed")?($("#"+that.attr("id")+" i").removeClass("fa-plus"),$("#"+that.attr("id")+" i").addClass("fa-minus"),subnodes.removeClass("collapsed"),url+="&what=expand"):(subnodes.addClass("collapsed"),$("#"+that.attr("id")+" i").removeClass("fa-minus"),$("#"+that.attr("id")+" i").addClass("fa-plus"),url+="&what=collapse"),$.get(url)}}}));

//# sourceMappingURL=pagetracker.min.js.map